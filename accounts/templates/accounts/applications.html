{% extends 'base/base.html' %}
{% load i18n %}

{% block title %}{% trans "Мои заявки" %} - ENIC Kazakhstan{% endblock %}

{% block content %}
<div class="container mt-5 mb-5">
    <div class="row">
        <div class="col-12">
            <h1 class="mb-4">{% trans "Мои заявки на признание документов" %}</h1>

            {% if user.is_authenticated %}
                {# Здесь будет логика отображения заявок пользователя #}
                {# Пример таблицы с заявками #}
                <div class="table-responsive">
                    <table class="table table-hover table-striped shadow-sm">
                        <thead class="table-primary">
                            <tr>
                                <th scope="col">{% trans "Номер заявки" %}</th>
                                <th scope="col">{% trans "Дата подачи" %}</th>
                                <th scope="col">{% trans "Документ" %}</th>
                                <th scope="col">{% trans "Статус" %}</th>
                                <th scope="col">{% trans "Действия" %}</th>
                            </tr>
                        </thead>
                        <tbody>
                            {# Пример данных, потом заменить на реальные из контекста #}
                            <tr>
                                <td>REC-2024-00123</td>
                                <td>20.07.2024</td>
                                <td>{% trans "Диплом Магистра, Гарвардский Университет" %}</td>
                                <td><span class="badge bg-info">{% trans "На рассмотрении" %}</span></td>
                                <td><a href="#" class="btn btn-sm btn-outline-primary">{% trans "Подробнее" %}</a></td>
                            </tr>
                            <tr>
                                <td>REC-2023-00088</td>
                                <td>15.11.2023</td>
                                <td>{% trans "Аттестат о среднем образовании, Школа №5 г. Лондон" %}</td>
                                <td><span class="badge bg-success">{% trans "Признан" %}</span></td>
                                <td><a href="#" class="btn btn-sm btn-outline-primary">{% trans "Подробнее" %}</a></td>
                            </tr>
                            <tr>
                                <td colspan="5" class="text-center py-4">
                                    <p>{% trans "У вас пока нет других заявок." %}</p>
                                    {# <i class="bi bi-folder-x fs-1 text-muted"></i> #}
                                </td>
                            </tr>
                            {# TODO: Заменить на реальные данные и цикл #}
                        </tbody>
                    </table>
                </div>
                <div class="text-center mt-4">
                    <a href="{% url 'recognition:apply' %}" class="btn btn-primary btn-lg">
                        <i class="bi bi-file-earmark-plus me-2"></i>{% trans "Подать новую заявку" %}
                    </a>
                </div>
            {% else %}
                <div class="alert alert-warning" role="alert">
                    <h4 class="alert-heading">{% trans "Доступ запрещен" %}!</h4>
                    <p>{% trans "Пожалуйста, войдите в систему, чтобы просмотреть свои заявки или подать новую." %}</p>
                    <hr>
                    <a href="{% url 'accounts:login' %}?next={{ request.path }}" class="btn btn-primary">{% trans "Войти" %}</a>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %} 